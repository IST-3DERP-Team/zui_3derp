<core:FragmentDefinition xmlns="sap.m" xmlns:l="sap.ui.layout" xmlns:f="sap.ui.layout.form" xmlns:core="sap.ui.core" class="sapUiSizeCompact" xmlns:tnt="sap.tnt" xmlns:c="zui3derp.control" xmlns:t="sap.ui.table">
    <!-- <Panel expandable="true" expanded="false" width="80%" class="sapUiSizeCompact">

        <headerToolbar>
            <Toolbar height="2rem" style="Clear">
                <Label text="{i18n>Colors}" />
            </Toolbar>
        </headerToolbar> -->
    <VBox fitContainer="true" class="sapUiTinyMargin">
        <Toolbar height="2rem" style="Clear">
            <ToolbarSpacer />
            <Button id="btnColorAdd" type="Ghost" icon="sap-icon://add" tooltip="{i18n>Addnewline}" press="addLine" visible="true">
                <customData>
                    <core:CustomData key="TableName" value="colorsTable" />
                </customData>
            </Button>
            <Button id="btnColorRemoveRow" type="Ghost" icon="sap-icon://less" tooltip="{i18n>Removenewline}" press="removeNewLine" visible="false">
                <customData>
                    <core:CustomData key="TableName" value="colorsTable" />
                </customData>
            </Button>            
            <Button id="btnColorSave" type="Ghost" icon="sap-icon://save" tooltip="{i18n>Savecolorattributes}" press="onSaveColorTable" visible="false" />
            <Button id="btnColorEdit" type="Ghost" icon="sap-icon://edit" tooltip="{i18n>Editcolorattributes}" press="setColorEditMode" visible="true" />
            <Button id="btnColorDelete" type="Ghost" icon="sap-icon://delete" tooltip="{i18n>Deleteselectedcolors}" press="onDeleteColor" visible="true" />
            <Button id="btnColorCancel" type="Ghost" icon="sap-icon://decline" tooltip="{i18n>Canceledit}" press="cancelColorsEdit" visible="false" />
            <Button icon="sap-icon://filter" tooltip="{i18n>Filter}" press="onColFilter" >
                <customData>
                    <core:CustomData key="TableName" value="colorsTable" />
                </customData>
            </Button>            
        </Toolbar>

        <MessageStrip id="ColorsMessageStrip" text="" showIcon="true" showCloseButton="true" class="sapUiMediumMarginBottom" type="Error" visible="false" />

        <!-- Color Attributes Table -->
        <!-- <ScrollContainer height="100%" vertical="true"> {= ${ColorEditModeModel>/editMode} === true ? 'None' : 'MultiToggle' }-->
        <c:DynamicTable id="colorsTable" 
            rows="{DataModel>/results}" 
            enableColumnReordering="true" 
            enableColumnFreeze="true"
            showColumnVisibilityMenu="true"
            visibleRowCountMode="Auto" 
            class="sapUiSizeCompact" 
            selectionMode="MultiToggle" 
            sort="onSorted"
            filter="onFilter">
            <c:columns>
                <t:Column name="ATTRIBSEQ" width="7rem" sortProperty="Attribseq">
                    <Label text="{ddtext>/COLORCD}" />
                    <t:template>
                        <Text text="{DataModel>Attribseq}" tooltip="{DataModel>Attribseq}" />
                    </t:template>
                </t:Column>
                <t:Column width="11rem" sortProperty="Desc1">
                    <Label text="{ddtext>/DESC}" />
                    <t:template>
                        <Input value="{DataModel>Desc1}" editable="{ColorEditModeModel>/editMode}" change="onColorChange" liveChange="onColorChange" tooltip="{DataModel>Desc1}" />
                    </t:template>
                </t:Column>
                <t:Column width="7rem" sortProperty="Sortseq">
                    <Label text="{ddtext>/SORTSEQ}" />
                    <t:template>
                        <!-- <HBox class="sapUiResponsiveContentPadding">
                                    <Label required="true"/> -->
                        <Input id="ColorIdInput" value="{DataModel>Sortseq}" editable="{ColorEditModeModel>/editMode}" valueStateText="Required" change="onColorChange" liveChange="onGeneralAttrChange" maxLength="2" tooltip="{DataModel>Sortseq}" />
                        <!-- </HBox>                         -->
                    </t:template>
                </t:Column>
            </c:columns>
            <c:layoutData>
                <FlexItemData growFactor="1" baseSize="0%" />
            </c:layoutData>
        </c:DynamicTable>
        <!-- </ScrollContainer> -->
    </VBox>

    <!-- </Panel> -->
</core:FragmentDefinition>
