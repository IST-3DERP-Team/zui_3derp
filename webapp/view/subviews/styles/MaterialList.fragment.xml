<core:FragmentDefinition xmlns="sap.m" xmlns:l="sap.ui.layout" xmlns:f="sap.ui.layout.form" xmlns:core="sap.ui.core" class="sapUiSizeCompact" xmlns:tnt="sap.tnt"
    xmlns:c="zui3derp.control" xmlns:t="sap.ui.table">
    <Toolbar height="3rem" style="Clear">
        <Label text="Material List"/>
        <ToolbarSpacer />
        <Button icon="sap-icon://bookmark" text="Assign Material No." press="onAssignMaterial"/>
        <Button icon="sap-icon://save" text="Save" press="onSaveMaterialList" visible="{EditModeModel>/materialListEditMode}"/>
        <Button icon="sap-icon://edit" press="setEditMode">
            <customData>
                <core:CustomData key="Section" value="MaterialList"/>
            </customData>
        </Button>
        <Button icon="sap-icon://excel-attachment" press="onExportExcel"  tooltip="Download to Excel">
            <customData>
            <core:CustomData key="TableName" value="materialListTable"/>
            </customData>
            <layoutData>
                <ToolbarLayoutData shrinkable="true"/>
            </layoutData>
        </Button>
    </Toolbar>
    <c:DynamicTable id="materialListTable" rows="{DataModel>/results}" class="sapUiSizeCompact" showColumnVisibilityMenu="true"
        selectionMode="Single">
        <t:Column width="5rem" filterType="" filterProperty="Attribtyp" sortProperty="Attribtyp">
            <Label text="Seq No."/>
            <t:template>
                <Text text="{DataModel>Seqno}"/>
            </t:template>
        </t:Column>
        <t:Column width="7rem" filterType="" filterProperty="Attribtyp" sortProperty="Attribtyp">
            <Label text="Mat. Type"/>
            <t:template>
                <Text text="{DataModel>Mattyp}"/>
            </t:template>
        </t:Column>
        <t:Column width="11rem" filterType="" filterProperty="Attribtyp" sortProperty="Attribtyp">
            <Label text="Material No."/>
            <t:template>
                <Text text="{DataModel>Matno}"/>
            </t:template>
        </t:Column>
        <t:Column width="7rem" filterType="" filterProperty="Attribtyp" sortProperty="Attribtyp">
            <Label text="GMC"/>
            <t:template>
                <Text text="{DataModel>Gmc}"/>
            </t:template>
        </t:Column>
        <t:Column width="18rem" filterType="" filterProperty="Attribtyp" sortProperty="Attribtyp">
            <Label text="GMC Description"/>
            <t:template>
                <Text text="{DataModel>Gmcdesc}"/>
            </t:template>
        </t:Column>
        <t:Column width="15rem" filterType="" filterProperty="Attribtyp" sortProperty="Attribtyp">
            <Label text="Addtl. Description"/>
            <t:template>
                <Input value="{DataModel>Matdesc1}" editable="{EditModeModel>/materialListEditMode}"/>
            </t:template>
        </t:Column>
        <t:Column width="7rem" filterType="" filterProperty="Attribtyp" sortProperty="Attribtyp">
            <Label text="Consumption"/>
            <t:template>
                <Input value="{DataModel>Consump}" editable="{EditModeModel>/materialListEditMode}"/>
            </t:template>
        </t:Column>
        <t:Column width="5rem" filterType="" filterProperty="Attribtyp" sortProperty="Attribtyp">
            <Label text="UOM"/>
            <t:template>
                <Text text="{DataModel>Uom}"/>
            </t:template>
        </t:Column>
        <t:Column width="7rem" filterType="" filterProperty="Attribtyp" sortProperty="Attribtyp">
            <Label text="Supply Type"/>
            <t:template>
                <!-- <Input value="{DataModel>}" editable="{EditModeModel>/materialListEditMode}"/> -->
                <Input id="SupplyTypeInput" type="Text" showSuggestion="true" showValueHelp="true" editable="{EditModeModel>/materialListEditMode}"
                    valueHelpRequest="onSupplyTypeValueHelp" suggestionItems="{ValueHelpModel>/supplytypes}" value="{DataModel>Supplytyp}">
                    <suggestionItems>
                        <core:Item text="{ValueHelpModel>Supplytyp}" />
                    </suggestionItems>
                </Input>
            </t:template>
        </t:Column>
        <t:Column width="7rem" filterType="" filterProperty="Attribtyp" sortProperty="Attribtyp">
            <Label text="Vendor"/>
            <t:template>
                <!-- <Input value="{DataModel>Vendorcd}" editable="{EditModeModel>/materialListEditMode}"/> -->
                <Input id="VendorInput" type="Text" showSuggestion="true" showValueHelp="true" editable="{EditModeModel>/materialListEditMode}"
                    valueHelpRequest="onVendorValueHelp" suggestionItems="{ValueHelpModel>/vendors}" value="{DataModel>Vendorcd}">
                    <suggestionItems>
                        <core:Item text="{ValueHelpModel>Lifnr}" />
                    </suggestionItems>
                </Input>
            </t:template>
        </t:Column>
        <t:Column width="5rem" filterType="" filterProperty="Attribtyp" sortProperty="Attribtyp">
            <Label text="Currency"/>
            <t:template>
                <!-- <Input value="{DataModel>Currencycd}" editable="{EditModeModel>/materialListEditMode}"/> -->
                <Input id="CurrencyInput" type="Text" showSuggestion="true" showValueHelp="true" editable="{EditModeModel>/materialListEditMode}"
                    valueHelpRequest="onCurrencyValueHelp" suggestionItems="{ValueHelpModel>/currencies}" value="{DataModel>Currencycd}">
                    <suggestionItems>
                        <core:Item text="{ValueHelpModel>Waers}" />
                    </suggestionItems>
                </Input>
            </t:template>
        </t:Column>
        <t:Column width="7rem" filterType="" filterProperty="Attribtyp" sortProperty="Attribtyp">
            <Label text="Unit Price"/>
            <t:template>
                <Input value="{DataModel>Unitprice}" type="Number" editable="{EditModeModel>/materialListEditMode}" />
            </t:template>
        </t:Column>
        <t:Column width="7rem" filterType="" filterProperty="Attribtyp" sortProperty="Attribtyp">
            <Label text="Purch. Group"/>
            <t:template>
                <!-- <Input value="{DataModel>Purgrp}" editable="{EditModeModel>/materialListEditMode}"/> -->
                <Input id="PurGroupInput" type="Text" showSuggestion="true" showValueHelp="true" editable="{EditModeModel>/materialListEditMode}"
                    valueHelpRequest="onPurGroupValueHelp" suggestionItems="{ValueHelpModel>/purgroups}" value="{DataModel>Purgrp}">
                    <suggestionItems>
                        <core:Item text="{ValueHelpModel>Purgrp}" />
                    </suggestionItems>
                </Input>
            </t:template>
        </t:Column>
        <t:Column width="7rem" filterType="" filterProperty="Attribtyp" sortProperty="Attribtyp">
            <Label text="Purch. Plant"/>
            <t:template>
                <!-- <Input value="{DataModel>Purplant}" editable="{EditModeModel>/materialListEditMode}"/> -->
                <Input id="PurPlantInput" type="Text" showSuggestion="true" showValueHelp="true" editable="{EditModeModel>/materialListEditMode}"
                    valueHelpRequest="onPurPlantValueHelp" suggestionItems="{ValueHelpModel>/purplants}" value="{DataModel>Purplant}">
                    <suggestionItems>
                        <core:Item text="{ValueHelpModel>Plant}" />
                    </suggestionItems>
                </Input>
            </t:template>
        </t:Column>
    </c:DynamicTable>
</core:FragmentDefinition>    