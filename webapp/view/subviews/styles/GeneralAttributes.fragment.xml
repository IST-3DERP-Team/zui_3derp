<core:FragmentDefinition xmlns="sap.m" xmlns:l="sap.ui.layout" xmlns:f="sap.ui.layout.form" xmlns:core="sap.ui.core" class="sapUiSizeCompact" xmlns:tnt="sap.tnt" xmlns:c="zui3derp.control" xmlns:t="sap.ui.table">
    <!-- <Panel expandable="true" expanded="false" width="100%" class="sapUiSizeCompact">
        <headerToolbar>
            <Toolbar height="2rem" style="Clear">
                <Label text="{i18n>GeneralAttributes}"/>
            </Toolbar>
        </headerToolbar> -->
   <VBox fitContainer="true" width="80%" class="sapUiTinyMargin">
    <Toolbar height="2rem" style="Clear">
            <ToolbarSpacer />
            <Button type="Ghost" icon="sap-icon://save" tooltip="{i18n>Saveattributes}" press="onSaveGeneralTable" visible="{= ${GenAttrEditModeModel>/editMode} === true ? true : false }" />
            <Button type="Ghost" icon="sap-icon://add" tooltip="{i18n>Addnewline}" press="addLine" visible="{= ${GenAttrEditModeModel>/editMode} === true ? false : true }">
                <customData>
                    <core:CustomData key="TableName" value="generalTable" />
                </customData>
            </Button>
            <Button type="Ghost" icon="sap-icon://edit" tooltip="{i18n>Editattributes}" press="setGeneralAttrEditMode" visible="{= ${GenAttrEditModeModel>/editMode} === true ? false : true }" />
            <Button type="Ghost" icon="sap-icon://delete" tooltip="{i18n>Deleteselectedattributes}" press="onDeleteGeneralAttr" visible="{= ${GenAttrEditModeModel>/editMode} === true ? false : true }" />
            <Button type="Ghost" icon="sap-icon://decline" tooltip="{i18n>Canceledit}" press="cancelGeneralAttrEdit" visible="{= ${GenAttrEditModeModel>/editMode} === true ? true : false }" />
        </Toolbar>

    <MessageStrip id="GeneralAttrMessageStrip" text="" showIcon="true" showCloseButton="true" class="sapUiMediumMarginBottom" type="Error" visible="false" />

    <!-- General Attributes Table -->
    <!-- <ScrollContainer height="auto" vertical="true" > -->

    <!-- <c:DynamicTable  -->
    <t:Table
        id="generalTable"
        rows="{DataModel>/results}"
        enableColumnReordering="false"
        class="sapUiTinyMarginBottom sapUiTinyMarginBegin sapUiTinyMarginEnd"
        enableColumnFreeze="true"
        selectionMode="MultiToggle"
        width="100%"
        visibleRowCountMode="Auto"
    >
        <!-- <t:extension>
            <Toolbar height="2rem" style="Clear">
                <ToolbarSpacer />
                <Button type="Ghost" icon="sap-icon://save" text="{i18n>Save}" tooltip="{i18n>Saveattributes}" press="onSaveGeneralTable" visible="{GenAttrEditModeModel>/editMode}" />
                <Button type="Ghost" icon="sap-icon://add" tooltip="{i18n>Addnewline}" press="addLine" visible="{GenAttrEditModeModel>/editMode}">
                    <customData>
                        <core:CustomData key="TableName" value="generalTable" />
                    </customData>
                </Button>
                <Button type="Ghost" icon="sap-icon://delete" tooltip="{i18n>Deleteselectedattributes}" press="onDeleteGeneralAttr" visible="{GenAttrEditModeModel>/editMode}" />
                <Button type="Ghost" icon="sap-icon://edit" text="{i18n>Edit}" tooltip="{i18n>Editattributes}" press="setGeneralAttrEditMode" visible="{= ${GenAttrEditModeModel>/editMode} === true ? false : true }" />
                <Button type="Ghost" icon="sap-icon://decline" text="{i18n>Cancel}" tooltip="{i18n>Canceledit}" press="cancelGeneralAttrEdit" visible="{= ${GenAttrEditModeModel>/editMode} === true ? true : false }" />
            </Toolbar>
        </t:extension> -->
        <t:columns>
         <t:Column name="ATTRIBSEQ" width="5rem" filterProperty="ATTRIBSEQ">
                <Label text="{i18n>Seq}" />
                <t:template>
                    <Text id="AttrTypeSeq" text="{DataModel>Attribseq}" />
                </t:template>
            </t:Column>

            <t:Column width="8rem" filterProperty="Attribtyp">
                <Label text="{i18n>AttributeType}" />
                <t:template>
                    <Input
                        id="AttrTypesInput"
                        type="Text"
                        showSuggestion="true"
                        showValueHelp="true"
                        editable="{GenAttrEditModeModel>/editMode}"
                        change="onGeneralAttrChange"
                        liveChange="onGeneralAttrChange"
                        valueHelpRequest="onAttrTypesValueHelp"
                        suggestionItems="{path:'AttribTypeModel>/results',templateShareable: false}"
                        value="{DataModel>Attribtyp}"
                    >
                        <suggestionItems>
                            <core:ListItem id="AttrTypeListItem" text="{AttribTypeModel>Attribtyp}" additionalText="{AttribTypeModel>Desc1}" />
                        </suggestionItems>
                    </Input>
                </t:template>
            </t:Column>
            <t:Column width="11rem" filterProperty="Attribcd">
                <Label text="{i18n>AttributeCode}" />
                <t:template>
                    <Input
                        id="AttrCodesInput"
                        type="Text"
                        showSuggestion="true"
                        showValueHelp="true"
                        editable="{GenAttrEditModeModel>/editMode}"
                        change="onGeneralAttrChange"
                        liveChange="onGeneralAttrChange"
                        valueHelpRequest="onAttrCodesValueHelp"
                        suggestionItems="{path:'AttribCdModel>/results',templateShareable: false}"
                        value="{DataModel>Attribcd}"
                    >
                        <suggestionItems>
                            <core:ListItem id="AttribcdListItem" text="{AttribCdModel>Attribcd}" additionalText="{AttribCdModel>Desc1}" />
                        </suggestionItems>
                    </Input>
                </t:template>
            </t:Column>
            <t:Column name="DESC1" width="16rem" filterProperty="Desc1">
                <Label text="{i18n>Description}" />
                <t:template>
                    <Text id="AttrCodeDesc" text="{DataModel>Desc1}" />
                </t:template>
            </t:Column>
            <t:Column width="11rem" filterProperty="Attribval">
                <Label text="{i18n>Value}" />
                <t:template>
                    <Input id="AttribValInput" type="Text" editable="{GenAttrEditModeModel>/editMode}" value="{DataModel>Attribval}" change="onGeneralAttrChange" liveChange="onGeneralAttrChange" />
                </t:template>
            </t:Column>
            <t:Column name="UOM" width="5rem" filterProperty="Valunit">
                <Label text="{i18n>UOM}" />
                <t:template>
                    <Text id="AttrValunit" text="{DataModel>Valunit}" />
                </t:template>
            </t:Column>
        </t:columns>

        <t:layoutData>
            <FlexItemData growFactor="1" baseSize="0%" />
        </t:layoutData>
    </t:Table>
    <!-- </c:DynamicTable> -->
    <!-- </ScrollContainer> -->
    </VBox>
    <!-- </Panel> -->
</core:FragmentDefinition>
