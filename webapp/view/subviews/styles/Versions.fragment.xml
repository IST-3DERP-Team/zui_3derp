<core:FragmentDefinition xmlns="sap.m" xmlns:l="sap.ui.layout" xmlns:f="sap.ui.layout.form" xmlns:core="sap.ui.core" class="sapUiSizeCompact" xmlns:tnt="sap.tnt"
    xmlns:c="zui3derp.control" xmlns:t="sap.ui.table">
    <Panel expandable="false" expanded="true" width="100%" class="sapUiNoContentPadding sapUiSizeCompact">
        <headerToolbar>
            <Toolbar height="3rem" style="Clear">
                <Title text="Versions" />
                <ToolbarSpacer />
                <Button type="Ghost" icon="sap-icon://save" text="Save" visible="{EditModeModel>/versionEditMode}" press="onSaveVersions"/>
                <Button type="Ghost" icon="sap-icon://add-document" text="New Version" press="onCreateNewVersion" visible="{EditModeModel>/versionEditMode}"/>                                    
                <Button type="Ghost" icon="sap-icon://delete" visible="{EditModeModel>/versionEditMode}"/>
                <Button type="Ghost" icon="sap-icon://edit" press="setEditMode">
                    <customData>
                        <core:CustomData key="Section" value="Versions"/>
                    </customData>
                </Button>
            </Toolbar>
        </headerToolbar>
        <c:DynamicTable id="versionsTable" rows="{DataModel>/results}" enableColumnReordering="false" selectionMode="Single" 
            visibleRowCountMode="Auto" minAutoRowCount="4" class="sapUiSizeCompact">
            <c:columns>
                <t:Column width="5rem" filterType="" filterProperty="Verno" sortProperty="Verno">
                    <Label text="Manage"/>
                    <t:template>
                        <Button icon="sap-icon://detail-view" press="onSelectVersion">
                        <customData>
                            <core:CustomData  key="VerNo" value="{DataModel>Verno}"/>
                        </customData>
                        </Button>
                    </t:template>
                </t:Column>
                <t:Column width="5rem" filterType="" filterProperty="Verno" sortProperty="Verno" hAlign="End">
                    <Label text="Version"/>
                    <t:template>
                        <Text text="{DataModel>Verno}"/>
                    </t:template>
                </t:Column>
                <t:Column width="6rem" hAlign="Center" sortProperty="Currentver">
                    <Label text="Status" />
                    <t:template>
                        <tnt:InfoLabel id="il8" text="{= ${DataModel>Currentver} === true ? 'Current' : ' ' }" colorScheme="{= ${DataModel>Currentver} === true ? 8 : 7 }" displayOnly= "true"
                            visible="{DataModel>Currentver}"/>
                    </t:template>
                </t:Column>
                <t:Column width="8rem" filterType="" filterProperty="Verno" sortProperty="Verno"  visible="{EditModeModel>/versionEditMode}">
                    <Label text=""/>
                    <t:template>
                        <Button text="Set Current" icon="sap-icon://detail-view" press="setVersionCurrent" visible="{= ${DataModel>Currentver} === true ? false : true }">
                            <customData>
                                <core:CustomData  key="VerNo" value="{DataModel>Verno}"/>
                            </customData>
                        </Button>
                    </t:template>
                </t:Column>
                <t:Column width="15rem" filterProperty="Desc1" sortProperty="Desc1">
                    <Label text="Description" />
                    <t:template>
                        <Input value="{DataModel>Desc1}" editable="{EditModeModel>/versionEditMode}"/>
                    </t:template>
                </t:Column>
                <t:Column width="15rem" filterProperty="Desc2" sortProperty="Desc2">
                    <Label text="Description" />
                    <t:template>
                        <Input value="{DataModel>Desc2}" editable="{EditModeModel>/versionEditMode}"/>
                    </t:template>
                </t:Column>
            </c:columns>
        </c:DynamicTable>
    </Panel>
</core:FragmentDefinition>    
